<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="refresh" content="1200"> <!-- force the page to update with new help  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Introduction to Human-Computer Interaction: Logistics">
    <title>Lab&thinsp;8&thinsp;&middot;&thinsp;HCI Design</title>

    <!-- Bootstrap -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../../css/hci.css" rel="stylesheet">
    <link href="http://yandex.st/highlightjs/7.5/styles/solarized_dark.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

   <!-- Fixed navbar -->
   <? include "../../nav.php" ?>

	<!-- this is a comment in HTML -->
	<div class="container">
    <div id="instructions" class="alert alert-info">
      When done, submit <a href="http://www.ucsd-hci.com/student_labs" class="alert-link">here</a>.
    </div>

    
  <div id="slide-1" class="row lab-slide">
    <div class="col-md-1">
      <h2>1</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.001.png" class="img-responsive col-md-6"
      title="1" />
    <div class="col-md-5">
      
      <div class="links">
        <h4>Student examples</h4>
        <ul>
          <li>Check out this awesome lab 7 stretch goal!</li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-2" class="row lab-slide">
    <div class="col-md-1">
      <h2>2</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.002.png" class="img-responsive col-md-6"
      title="2" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-3" class="row lab-slide">
    <div class="col-md-1">
      <h2>3</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.003.png" class="img-responsive col-md-6"
      title="3" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-4" class="row lab-slide">
    <div class="col-md-1">
      <h2>4</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.004.png" class="img-responsive col-md-6"
      title="4" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-5" class="row lab-slide">
    <div class="col-md-1">
      <h2>5</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.005.png" class="img-responsive col-md-6"
      title="5" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-6" class="row lab-slide">
    <div class="col-md-1">
      <h2>6</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.006.png" class="img-responsive col-md-6"
      title="6" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>How will this lab help me?</h4>
        <div class="well well-sm">
          <span class="lead"><p>This lab will teach you how to use the Facebook login, Google Maps API, and camera through getUserMedia.</p></span>
          <p>The core lesson here is that there are third party APIs that we can utilize and avoid doing work that's already been done. You'll also get more practice using callbacks as the main form of communication between client and server. Even if you're not using any of these features in your assignments, hopefully this will get you started on using creating richer web applications.</p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-7" class="row lab-slide">
    <div class="col-md-1">
      <h2>7</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.007.png" class="img-responsive col-md-6"
      title="7" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-8" class="row lab-slide">
    <div class="col-md-1">
      <h2>8</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.008.png" class="img-responsive col-md-6"
      title="8" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Heads up!</h4>
        <div class="well well-sm">
          <span class="lead"><p>This isn't the only form callbacks take, or are used, but is an example! We'll see various forms of callbacks in the rest of the lab.</p></span>
          <p></p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-9" class="row lab-slide">
    <div class="col-md-1">
      <h2>9</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.009.png" class="img-responsive col-md-6"
      title="9" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-10" class="row lab-slide">
    <div class="col-md-1">
      <h2>10</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.010.png" class="img-responsive col-md-6"
      title="10" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-11" class="row lab-slide">
    <div class="col-md-1">
      <h2>11</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.011.png" class="img-responsive col-md-6"
      title="11" />
    <div class="col-md-5">
      
      <div class="links">
        <h4>Links</h4>
        <ul>
          <li><a href='https://github.com/IntroHCI/lab8/fork' target="_blank">https://github.com/IntroHCI/lab8/fork</a></li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-12" class="row lab-slide">
    <div class="col-md-1">
      <h2>12</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.012.png" class="img-responsive col-md-6"
      title="12" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Troubleshoot</h4>
        <div class="well well-sm">
          <span class="lead"><p>Wait.. <code>node</code> just barfed... what do I do?</p></span>
          <p>Try restarting your computer</p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-13" class="row lab-slide">
    <div class="col-md-1">
      <h2>13</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.013.png" class="img-responsive col-md-6"
      title="13" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-14" class="row lab-slide">
    <div class="col-md-1">
      <h2>14</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.014.png" class="img-responsive col-md-6"
      title="14" />
    <div class="col-md-5">
      
      <div class="links">
        <h4>Links</h4>
        <ul>
          <li><a href='https://developers.facebook.com/apps' target="_blank">https://developers.facebook.com/apps</a></li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-15" class="row lab-slide">
    <div class="col-md-1">
      <h2>15</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.015.png" class="img-responsive col-md-6"
      title="15" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-16" class="row lab-slide">
    <div class="col-md-1">
      <h2>16</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.016.png" class="img-responsive col-md-6"
      title="16" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-17" class="row lab-slide">
    <div class="col-md-1">
      <h2>17</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.017.png" class="img-responsive col-md-6"
      title="17" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-18" class="row lab-slide">
    <div class="col-md-1">
      <h2>18</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.018.png" class="img-responsive col-md-6"
      title="18" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-19" class="row lab-slide">
    <div class="col-md-1">
      <h2>19</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.019.png" class="img-responsive col-md-6"
      title="19" />
    <div class="col-md-5">
      
      <div class="code">
        <h4>Include the partials</h4>
        <pre class='pre-scrollable'><code>{{&gt; facebook}}
&lt;script src="/js/facebook.js"&gt;&lt;/script&gt;</code></pre>
      </div>
      
      <div class="code">
        <h4>Add login button</h4>
        <pre class='pre-scrollable'><code>&lt;fb:login-button scope="public_profile,email" onlogin="checkLoginState();"&gt;
&lt;/fb:login-button&gt;</code></pre>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-20" class="row lab-slide">
    <div class="col-md-1">
      <h2>20</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.020.png" class="img-responsive col-md-6"
      title="20" />
    <div class="col-md-5">
      
      <div class="code">
        <h4>facebook.js</h4>
        <pre class='pre-scrollable'><code>function checkLoginState() {
  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });
}

function statusChangeCallback(response) {
  console.log('Facebook login status changed.');
  console.log(response);
  // The response object is returned with a status field that lets the
  // app know the current login status of the person.
  // Full docs on the response object can be found in the documentation
  // for FB.getLoginStatus().
  if (response.status === 'connected') {
    // Logged into your app and Facebook.
    FB.api('/me?fields=name,first_name,picture.width(480)', changeUser);
  }
}</code></pre>
      </div>
      
      <div class="debug">
        <h4>Heads up!</h4>
        <div class="well well-sm">
          <span class="lead"><p>Wait how does <code>checkLoginState()</code> get called?</p></span>
          <p>If you look in your <code>index.handlebars</code>, we put in the segment <code>onlogin="checkLoginState();"</code>. This means after Facebook is done accepting your login API request, it will call the callback <code>checkLoginState</code> for you. See how varied callbacks can be used!</p>
        </div>
      </div>
      
      <div class="debug">
        <h4>Troubleshoot</h4>
        <div class="well well-sm">
          <span class="lead"><p>It's not working!?</p></span>
          <p>Check your javascript console in developer tools</p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-21" class="row lab-slide">
    <div class="col-md-1">
      <h2>21</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.021.png" class="img-responsive col-md-6"
      title="21" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Hints</h4>
        <div class="well well-sm">
          <span class="lead"><p>How do I get the name from facebook to replace Michael Bernstein?</p></span>
          <p>Remember that the response data from facebook is stored in the <code>response</code> variable in <code>changeUser</code>. What's in <code>response</code>? Try printing it out onto the console!</p>
        </div>
        <div class="well well-sm">
          <span class="lead"><p>How do I get the image from facebook to use in my <code>img</code>?</p></span>
          <p>This is going to be similar to how we did it for name. Try peeking into what's inside <code>response</code> by logging it on the console. Try and see if you can get the URL to your facebook image to print onto the console.</p>
        </div>
        <div class="well well-sm">
          <span class="lead"><p>How do I replace just the <code>src</code> attribute of <code>img</code>?</p></span>
          <p>You can change a single attribute of an element with the jQuery call <code>$.attr('src', <Some new URL>);</code>. Read more about it in the <a href='http://api.jquery.com/attr/#attr2'>jQuery docs!</a></p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-22" class="row lab-slide">
    <div class="col-md-1">
      <h2>22</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.022.png" class="img-responsive col-md-6"
      title="22" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-23" class="row lab-slide">
    <div class="col-md-1">
      <h2>23</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.023.png" class="img-responsive col-md-6"
      title="23" />
    <div class="col-md-5">
      
      <div class="links">
        <h4>Links</h4>
        <ul>
          <li><a href='https://developers.google.com/maps/documentation/javascript/' target="_blank">https://developers.google.com/maps/documentation/javascript/</a></li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-24" class="row lab-slide">
    <div class="col-md-1">
      <h2>24</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.024.png" class="img-responsive col-md-6"
      title="24" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-25" class="row lab-slide">
    <div class="col-md-1">
      <h2>25</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.025.png" class="img-responsive col-md-6"
      title="25" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-26" class="row lab-slide">
    <div class="col-md-1">
      <h2>26</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.026.png" class="img-responsive col-md-6"
      title="26" />
    <div class="col-md-5">
      
      <div class="code">
        <h4>Terminal</h4>
        <pre class='pre-scrollable'><code>{{&gt; googleMaps}}
&lt;script src="/js/googleMaps.js"&gt;&lt;/script&gt;</code></pre>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-27" class="row lab-slide">
    <div class="col-md-1">
      <h2>27</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.027.png" class="img-responsive col-md-6"
      title="27" />
    <div class="col-md-5">
      
      <div class="code">
        <h4>googleMaps.js</h4>
        <pre class='pre-scrollable'><code>function initMap() {
  // Create center marker at UCSD
  var ucsd_ltlng = {lat:32.880, lng:-117.236};

  // Create a map object and specify the DOM element for display.
  var map = new google.maps.Map(document.getElementById('map'), {
    center: ucsd_ltlng,
    zoom: 15
  });

  var marker = new google.maps.Marker({
      position: ucsd_ltlng,
      map: map,
      title: 'UCSD'
  });
}</code></pre>
      </div>
      
      <div class="debug">
        <h4>Heads up!</h4>
        <div class="well well-sm">
          <span class="lead"><p>Wait, how does <code>initMap()</code> get called?</p></span>
          <p>If you look in your <code>googleMaps.handlebars</code>, we put in the segment <code>&callback=initMap</code>. This means after Google Maps is done accepting your API request, it will call the callback <code>initMap</code> for you. Another example of the varied usage of callbacks!</p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-28" class="row lab-slide">
    <div class="col-md-1">
      <h2>28</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.028.png" class="img-responsive col-md-6"
      title="28" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-29" class="row lab-slide">
    <div class="col-md-1">
      <h2>29</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.029.png" class="img-responsive col-md-6"
      title="29" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-30" class="row lab-slide">
    <div class="col-md-1">
      <h2>30</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.030.png" class="img-responsive col-md-6"
      title="30" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Hints</h4>
        <div class="well well-sm">
          <span class="lead"><p>What exactly are we implementing here?</p></span>
          <p>The video tag will show the video feed from our webcam. The canvas will show the image once we've taken the shot. Finally, the button will actually take the image!</p>
        </div>
        <div class="well well-sm">
          <span class="lead"><p>Whoa whoa slow down. How does all this work?</p></span>
          <p>Well it's slightly outside of the scope of this class, but you can read the <code>capture</code> function to understand how the video, canvas, and button are hooked together. The <code>successCallback</code> hooks up the <code>video</code> element to show the stream, and <code>button</code>'s click to an event that draws the current image in <code>video</code> to the <code>canvas</code>. You can also see <a href='https://dev.opera.com/articles/media-capture-in-mobile-browsers/'>Dev.Opera - Media Capture in Mobile Browsers</a> for a more detailed explanation.</p>
        </div>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-31" class="row lab-slide">
    <div class="col-md-1">
      <h2>31</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.031.png" class="img-responsive col-md-6"
      title="31" />
    <div class="col-md-5">
      
      <div class="code">
        <h4>Terminal</h4>
        <pre class='pre-scrollable'><code>&lt;script src="/js/camera.js"&gt;&lt;/script&gt;</code></pre>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-32" class="row lab-slide">
    <div class="col-md-1">
      <h2>32</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.032.png" class="img-responsive col-md-6"
      title="32" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Heads up!</h4>
        <div class="well well-sm">
          <span class="lead"><p>Make sure to use https</p></span>
          <p>Make sure to go to https://&lt;Your Heroku App Name&gt;.herokuapp.com as these 3rd party APIs will not work without it!</p>
        </div>
      </div>
      
      <div class="code">
        <h4>GitHub - Commit</h4>
        <pre class='pre-scrollable'><code>git status
git add ... 
git commit -m "Third party APIs"</code></pre>
      </div>
      
      <div class="code">
        <h4>Github - Push</h4>
        <pre class='pre-scrollable'><code>git push</code></pre>
      </div>
      
      <div class="code">
        <h4>Heroku - Create</h4>
        <pre class='pre-scrollable'><code>heroku create <i>newapplicationname</i></code></pre>
      </div>
      
      <div class="code">
        <h4>Heroku - Push</h4>
        <pre class='pre-scrollable'><code>git push heroku master</code></pre>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-33" class="row lab-slide">
    <div class="col-md-1">
      <h2>33</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.033.png" class="img-responsive col-md-6"
      title="33" />
    <div class="col-md-5">
      
      <div class="links">
        <h4>Links</h4>
        <ul>
          <li><a target='_blank' href='#slide-16'>Slide 16-Set Facebook API URL</a></li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


  <div id="slide-34" class="row lab-slide">
    <div class="col-md-1">
      <h2>34</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.034.png" class="img-responsive col-md-6"
      title="34" />
    <div class="col-md-5">
      
    </div>
  </div>
  <hr />
  


  <div id="slide-35" class="row lab-slide">
    <div class="col-md-1">
      <h2>35</h2>
    </div>
    <img src="2016-lab-08-thirdpartyAPI.035.png" class="img-responsive col-md-6"
      title="35" />
    <div class="col-md-5">
      
      <div class="debug">
        <h4>Stretch Goals</h4>
        <div class="well well-sm">
          <span class="lead"><p>Three stretch goals this time. Pick at least one!</p></span>
          <p><ol><li>Incorporate your fb friends list into the website.</li><li>Add a new marker to Maps on click</li><li>When you take a photo with the camera, have it update your profile photo on the website.</li></ol></p>
        </div>
      </div>
      
      <div class="links">
        <h4>Find more third party APIs at our development resources!</h4>
        <ul>
          <li><a target='_blank' href='http://d.ucsd.edu/class/intro-hci/2016/mobile_app_tips.php'>Development Resources</a></li>
        </ul>
      </div>
      
    </div>
  </div>
  <hr />
  


    <div id="instructions-bottom" class="alert alert-info">
      When done, submit <a href="http://www.ucsd-hci.com/student_labs" class="alert-link">here</a>.
    </div>

	</div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../js/bootstrap.min.js"></script>
    <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script> <!-- syntax highlighting -->
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
